{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","utils/Api.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/Spinner.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/FailRegister.svg","images/SuccesfulRegister.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","email","onSignOut","className","src","headerLogo","alt","exact","path","to","onClick","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","name","about","body","JSON","stringify","link","avatar","cardId","_likeCard","_dislikeCard","data","localStorage","getItem","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","map","Footer","PopupWithForm","title","btnCaption","isOpen","onClose","children","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","urlRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","ImagePopup","Spinner","Login","setEmail","password","setPassword","ProtectedRoute","Component","component","props","isLoggedIn","InfoToolTip","isRegSucces","succesfulRegister","failRegister","BASE_URL","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","setCards","isLoading","setIsLoading","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","history","useHistory","setIsLoggedIn","setIsRegSucces","isInfoPopupOpen","setIsInfoPopupOpen","handleCheckToken","jwt","auth","push","catch","error","console","log","closeAllPopups","all","getUserInformation","getInitialCards","info","cardsArr","err","Provider","removeItem","changeLikeCardStatus","newCard","state","c","token","setItem","setUserInfo","createNewCard","deleteCard","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f68a7a13.chunk.js","sourcesContent":["import React from \"react\";\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport headerLogo from \"../images/logo.svg\";\nimport { Link, Route } from \"react-router-dom\";\n\nfunction Header({ email, onSignOut }) {\n  return (\n    <header className=\"header\">\n      <img className=\"logo header__logo\" src={headerLogo} alt=\"Логотип Mesto\" />\n      <div className=\"header__container\">\n        <Route exact path=\"/\">\n          <p className=\"header__email\">{email}</p>\n          <Link to=\"/sign-in\" className=\"header__link\" onClick={onSignOut}>\n            Выйти\n          </Link>\n        </Route>\n        <Route exact path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link_active\">\n            Регистрация\n          </Link>\n        </Route>\n        <Route exact path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link_active\">\n            Войти\n          </Link>\n        </Route>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","class Api {\n    constructor(options) {\n      this._url = options.baseUrl\n      this._headers = options.headers\n    }\n  \n    _checkResponse(res){\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n    }  \n    \n    getUserInformation(){\n      return fetch(`${this._url}/users/me`, {\n        headers: this._headers,\n        method: \"GET\",\n      })\n      .then(this._checkResponse)\n    }\n  \n    updateUserInformation(name, about){\n      return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n      })\n      .then(this._checkResponse);\n    }\n  \n    addNewCardToServer(name, link){\n      return fetch(`${this._url}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          link: link\n        })\n      })  \n      .then(this._checkResponse);\n    }\n  \n    setUserAvatar(avatar){\n      return fetch(`${this._url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: avatar\n        })\n      })\n      .then(this._checkResponse);\n    }\n\n    _dislikeCard(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n  \n    setLike(cardId){\n      return fetch(`${this._url}/cards/likes/${cardId}`,{\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n\n    _likeCard(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n\n    changeLikeCardStatus(cardId, status) {\n        return status ? this._likeCard(cardId) : this._dislikeCard(cardId);\n    }\n  \n    removeLike(cardId){\n      return fetch(`${this._url}/cards/likes/${cardId}`,{\n        method: \"DELETE\",\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    deleteCard(cardId){\n      return fetch(`${this._url}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n\n    setUserInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse)\n    }\n\n    createNewCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(data)\n        })\n            .then(this._checkResponse)\n    }\n  }\n\n  const api = new Api({\n    baseUrl: \"https://api.anastasiasikidina.nomoredomains.work\",\n    headers: {\n      \"authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  export default api;","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `photo__like ${\n    isLiked && \"photo__like photo__like_active\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className=\"photo\">\n        <div className=\"photo__image-container\">\n    <img\n        onClick={handleClick}\n        className=\"photo__image photo__image_open\"\n        src={card.link}\n        alt={card.name}\n      />\n      {isOwn && (\n        <button\n          onClick={handleDeleteClick}\n          type=\"button\"\n          className=\"photo__trash\"\n          aria-label=\"Удалить карточку\"\n        ></button>\n      )}\n        </div>\n      <div className=\"photo__like-container\">\n        <h2 className=\"photo__title\">{card.name}</h2>\n        <div className=\"photo__like-button-container\">\n          <button\n            onClick={handleLikeClick}\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Нравится\"\n          ></button>\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__container\">\n        <div className=\"profile__photo-wrapper\" onClick={onEditAvatar}>\n\n          <img\n            className=\"profile__photo\"\n            src={currentUser.avatar}\n            alt=\"Аватар\"\n          />\n        </div>\n\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            onClick={onEditProfile}\n            type=\"button\"\n            className=\"profile__btn-edit\"\n            aria-label=\"Изменить профайл\"\n          ></button>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n\n        <button\n          onClick={onAddPlace}\n          type=\"button\"\n          className=\"profile__btn-add\"\n          aria-label=\"Добавить профайл\"\n        ></button>\n        </div>\n      </section>\n\n      <section className=\"photos\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__logo\">© 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from \"react\";\n\n\nfunction PopupWithForm({\n  name,\n  title,\n  btnCaption = \"Сохранить\",\n  isOpen,\n  onClose,\n  children,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup popup-${name} ${isOpen && \"popup_opened\"}`}>\n      <button\n        onClick={onClose}\n        type=\"button\"\n        className={`button-close popup__cross popup__cross_btn_close-${name}`}\n        aria-label=\"Закрыть попап\"\n      ></button>\n      <form\n        className={`popup__form popup__form_${name}`}\n        name={`${name}-form`}\n        onSubmit={onSubmit}\n      >\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"popup__button popup__save\">\n          {btnCaption}\n        </button>\n      </form>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n        <input\n          type=\"text\"\n          name=\"profile-name\"\n          value={name}\n          onChange={handleNameChange}\n          placeholder=\"Введите Имя\"\n          className=\"popup__input popup__input_type_name popup__input_profile-name\"\n          id=\"popup__input_type_name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span id=\"popup__input_type_name-error\" className=\"popup__error\"></span>\n\n        <input\n          type=\"text\"\n          name=\"about\"\n          value={description}\n          onChange={handleDescriptionChange}\n          placeholder=\"О себе\"\n          className=\"popup__input popup__input_type_about popup__input_type_activity popup__input_profile-activity\"\n          id=\"popup__input_type_about\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span id=\"popup__input_type_about-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ name, isOpen, onClose, onUpdateAvatar }) {\n  const urlRef = React.useRef();\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(urlRef.current.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        ref={urlRef}\n        name=\"link\"\n        placeholder=\"ссылка на аватар\"\n        className=\"popup__input popup__input_type_avatar\"\n        id={`\"popup__input_type_${name}\"`}\n        required\n      />\n      <span\n        className=\"popup__error\"\n        id={`\"popup__input_type_${name}-error\"`}\n      ></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React, { useEffect, useState } from \"react\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]);\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n  return (\n    <PopupWithForm\n      name=\"photo\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleNameChange}\n          placeholder=\"Название\"\n          className=\"popup__input popup__input_type_title\"\n          id=\"popup__input_type_title\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n        />\n\n        <span id=\"popup__input_type_title-error\" className=\"popup__error\"></span>\n\n        <input\n          type=\"url\"\n          name=\"link\"\n          value={link}\n          onChange={handleLinkChange}\n          placeholder=\"Ссылка на картинку\"\n          className=\"popup__input popup__input_type_image\"\n          id=\"popup__input_type_image\"\n          required\n        />\n        <span id=\"popup__input_type_image-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard, card }) {\n    function handleSubmit(e) {\n        e.preventDefault();\n        onDeleteCard(card);\n    }\n    return (\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" btnCaption=\"Да\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} />\n    );\n}\n\nexport default DeleteCardPopup;","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_full_photo ${card ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__figure-flex\">\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"button-close popup__close popup__close_btn_close popup__button-close\"\n          aria-label=\"Закрыть попап\"\n        ></button>\n        <figure className=\"popup__container popup__container-image popup__container-image_open\"> \n          <img\n            className=\"popup__image\"\n            src={card ? card.link : \"\"}\n            alt={card ? card.name : \"\"}\n          />\n          <figcaption className=\"popup__caption\">\n            {card ? card.name : \"\"}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nfunction Spinner() {\n    return (\n        <div className=\"Spinner\" />\n    );\n}\nexport default Spinner;","import { useState } from \"react\";\nexport default function Login({ onSubmit }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit(email, password);\n  }\n\n  return (\n    <div className=\"authorization\">\n      <h2 className=\"authorization__title\">Вход</h2>\n      <form\n        className=\"authorization__form\"\n        name=\"login-form\"\n        onSubmit={handleSubmit}\n      >\n        <input\n          required\n          minLength=\"5\"\n          onChange={handleEmailChange}\n          value={email}\n          maxLength=\"40\"\n          type=\"email\"\n          name=\"login-email\"\n          placeholder=\"Email\"\n          id=\"login-email\"\n          className=\"authorization__input\"\n        />\n\n        <input\n          required\n          minLength=\"5\"\n          onChange={handlePasswordChange}\n          value={password}\n          maxLength=\"40\"\n          type=\"password\"\n          name=\"login-password\"\n          placeholder=\"Пароль\"\n          id=\"login-password\"\n          className=\"authorization__input authorization__input_password\"\n        />\n        <button type=\"submit\" className=\"authorization__button\">\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Login({ onSubmit }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit(email, password);\n  }\n  return (\n    <div className=\"authorization\">\n      <h2 className=\"authorization__title\">Регистрация</h2>\n      <form\n        className=\"authorization__form\"\n        name=\"register-form\"\n        onSubmit={handleSubmit}\n      >\n        <input\n          required\n          onChange={handleEmailChange}\n          value={email}\n          minLength=\"5\"\n          maxLength=\"40\"\n          type=\"email\"\n          name=\"register-email\"\n          placeholder=\"Email\"\n          id=\"register-email\"\n          className=\"authorization__input\"\n        />\n        <input\n          required\n          minLength=\"5\"\n          onChange={handlePasswordChange}\n          value={password}\n          maxLength=\"40\"\n          type=\"password\"\n          name=\"register-password\"\n          placeholder=\"Пароль\"\n          id=\"register-password\"\n          className=\"authorization__input authorization__input_password\"\n        />\n        <button type=\"submit\" className=\"authorization__button\">\n          Зарегистрироваться\n        </button>\n        <Link className=\"authorization__login-link\" to=\"/sign-in\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </form>\n    </div>\n  );\n}","import { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/FailRegister.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/SuccesfulRegister.1b6082f8.svg\";","import failRegister from \"../images/FailRegister.svg\";\nimport succesfulRegister from \"../images/SuccesfulRegister.svg\";\n \nexport default function InfoToolTip({ onClose, isOpen, isRegSucces, name }) {\n  return (\n    <div className={isOpen ? `popup_opened popup` : `popup`}>\n      <button\n        onClick={onClose}\n        type=\"button\"\n        className={`button-close popup__cross popup__cross_btn_close-${name}`}\n        aria-label=\"Закрыть попап\"\n      ></button>\n      <div className=\"popup__content\">\n      \n        <img\n          src={isRegSucces ? succesfulRegister : failRegister}\n          className=\"popup__info-icon\"\n          alt=\"успех регистрации\"\n        />\n        <h3 className=\"popup__title-info\">\n          {isRegSucces\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так!\\n Попробуйте еще раз.\"}\n        </h3>\n        \n      </div>\n    </div>\n  );\n}\n","export const BASE_URL = 'https://api.anastasiasikidina.nomoredomains.work';\n\nexport const register = (email, password)=>{\n  return fetch(`${BASE_URL}/signup`,{\n      method: \"POST\",\n      headers:{\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n          \"email\": email,\n          \"password\": password\n          })\n  }).then(_checkResponse)\n}\n\nexport const login = (email, password)=>{\n  return fetch(`${BASE_URL}/signin`,{\n      method: \"POST\",\n      headers:{\n          \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({\n          \"email\": email,\n          \"password\": password\n           })\n  }).then(_checkResponse)\n      .then((data) => {\n          if (data.token){\n              localStorage.setItem('jwt', data.token);\n              return data;\n          }\n      })\n\n}\n\nexport const checkToken  = (jwt)=>{\n  return fetch(`${BASE_URL}/users/me`,{\n      method: \"GET\",\n      headers:{\n          \"Content-Type\":\"application/json\",\n          \"Authorization\" : `Bearer ${jwt}`\n      },\n  }).then(_checkResponse)\n}\n\nfunction _checkResponse (res) {\n    if (res.ok) { \n        return res.json() \n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }","import React, { useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport api from \"../utils/Api\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Spinner from \"./Spinner\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport * as auth from \"../utils/auth.js\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({ name: \"\", about: \"\" });\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cardToDelete, setCardToDelete] = useState(null);\n\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isRegSucces, setIsRegSucces] = useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = useState(false);\n\n\n  function handleCheckToken() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          setIsLoggedIn(true);\n          setEmail(res.data.email);\n          history.push(\"/\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n\n  function handleRegSubmit(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        setIsInfoPopupOpen(true);\n        setIsRegSucces(true);\n        history.push(\"/sign-in\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsInfoPopupOpen(true);\n        setIsRegSucces(false);\n      });\n  }\n  function handleLoginSubmit(email, password) {\n    auth\n      .login(email, password)\n      .then((res) => {\n        localStorage.setItem(\"jwt\", res.token);\n        setIsLoggedIn(true);\n        setEmail(email);\n        history.push(\"/\");\n      })\n      .catch(err => {\n        console.log(err); \n      });\n  }\n  function handleSignout() {\n    localStorage.removeItem(\"jwt\");\n    setIsLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  useEffect(() => {\n    handleCheckToken();\n    Promise.all([api.getUserInformation(), api.getInitialCards()])\n      .then(([info, cardsArr]) => {\n        setCurrentUser(info);\n        setCards(cardsArr);\n        setIsLoading(false);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleSubmitDeleteCard(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    setCardToDelete(card);\n    setDeletePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoPopupOpen(false);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(info) {\n    api\n      .setUserInfo(info)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(link) {\n    api\n      .setUserAvatar(link)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .createNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <Header email={email} onSignOut={handleSignout} />\n        {isLoading ? (\n          <Spinner />\n        ) : (\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              isLoggedIn={isLoggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            <Route path=\"/sign-in\">\n              <Login onSubmit={handleLoginSubmit} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register onSubmit={handleRegSubmit} />\n            </Route>\n          </Switch>\n        )}\n\n        {isLoggedIn && <Footer />}\n        \n        <InfoTooltip\n          isOpen={isInfoPopupOpen}\n          onClose={closeAllPopups}\n          isRegSucces={isRegSucces}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <DeleteCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleSubmitDeleteCard}\n          card={cardToDelete}\n        />\n        <PopupWithForm name=\"card-delete\" title=\"Вы уверены?\">\n            <button type=\"submit\" className=\"popup__save\">\n              Да\n            </button>\n          </PopupWithForm>\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}